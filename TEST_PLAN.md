# План тестирования функций "О чем статья?", "Тезисы" и "Пост для Telegram"

## Цель тестирования
Проверить работоспособность всех трех новых функций и убедиться, что они корректно обрабатывают различные сценарии.

## Подготовка к тестированию

### Предварительные требования:
1. ✅ Сервер разработки запущен (`npm run dev`)
2. ✅ Файл `.env.local` содержит валидный `OPENROUTER_API_KEY`
3. ✅ Браузер открыт на `http://localhost:3000`

---

## 4.1. Функциональное тестирование

### Тест 1: Кнопка "О чем статья?" - Короткая статья

**Тестовые данные:**
- URL: `https://mangapanda-blog.com/interesting-facts-about-lions/`
- Ожидаемая длина: средняя статья

**Шаги:**
1. Открыть приложение в браузере
2. Ввести URL в поле ввода
3. Нажать кнопку "О чем статья?"
4. Дождаться завершения обработки

**Ожидаемый результат:**
- ✅ Показывается индикатор загрузки "Парсинг статьи..."
- ✅ Затем "Обработка AI..."
- ✅ В блоке результата отображается заголовок "Результат (О чем статья?)"
- ✅ Результат содержит краткое резюме статьи на русском языке (3-5 предложений)
- ✅ Результат структурирован и информативен

**Критерии успеха:**
- Резюме на русском языке
- Резюме содержит основную информацию о статье
- Нет ошибок в консоли браузера

---

### Тест 2: Кнопка "Тезисы" - Средняя статья

**Тестовые данные:**
- URL: `https://mangapanda-blog.com/interesting-facts-about-lions/`

**Шаги:**
1. Ввести URL в поле ввода
2. Нажать кнопку "Тезисы"
3. Дождаться завершения обработки

**Ожидаемый результат:**
- ✅ Показывается индикатор загрузки
- ✅ В блоке результата отображается заголовок "Результат (Тезисы)"
- ✅ Результат содержит пронумерованный список тезисов (1., 2., 3., ...)
- ✅ Каждый тезис четкий и содержит важную идею из статьи
- ✅ Тезисы на русском языке

**Критерии успеха:**
- Список пронумерован
- Минимум 5 тезисов
- Тезисы информативны и структурированы

---

### Тест 3: Кнопка "Пост для Telegram" - Длинная статья

**Тестовые данные:**
- URL: `https://mangapanda-blog.com/interesting-facts-about-lions/`

**Шаги:**
1. Ввести URL в поле ввода
2. Нажать кнопку "Пост для Telegram"
3. Дождаться завершения обработки

**Ожидаемый результат:**
- ✅ Показывается индикатор загрузки
- ✅ В блоке результата отображается заголовок "Результат (Пост для Telegram)"
- ✅ Результат содержит готовый пост для Telegram
- ✅ Пост содержит эмодзи (2-4 эмодзи)
- ✅ Пост имеет четкое форматирование (абзацы, переносы строк)
- ✅ Пост увлекательный и информативный
- ✅ Длина поста не превышает 2000 символов
- ✅ Пост на русском языке

**Критерии успеха:**
- Пост готов к публикации
- Содержит эмодзи
- Хорошо отформатирован
- Информативен и увлекателен

---

## 4.2. Тестирование обработки ошибок

### Тест 4: Неверный URL статьи

**Тестовые данные:**
- URL: `https://invalid-url-that-does-not-exist-12345.com/article`

**Шаги:**
1. Ввести неверный URL
2. Нажать любую из трех кнопок ("О чем статья?", "Тезисы", "Пост для Telegram")

**Ожидаемый результат:**
- ✅ Показывается сообщение об ошибке парсинга
- ✅ Сообщение на русском языке
- ✅ Сообщение понятное и информативное

**Критерии успеха:**
- Ошибка обработана корректно
- Пользователь понимает, в чем проблема

---

### Тест 5: Пустой URL

**Тестовые данные:**
- URL: (пустое поле)

**Шаги:**
1. Оставить поле URL пустым
2. Попытаться нажать любую из кнопок

**Ожидаемый результат:**
- ✅ Кнопки неактивны (disabled) или показывают alert
- ✅ Не происходит отправка запроса

**Критерии успеха:**
- Валидация работает корректно
- Пользователь не может отправить пустой запрос

---

### Тест 6: Недоступность OpenRouter API (если применимо)

**Условия:**
- Если OpenRouter API недоступен в регионе

**Ожидаемый результат:**
- ✅ Показывается понятное сообщение об ошибке на русском языке
- ✅ Сообщение предлагает решение (использовать VPN)

**Критерии успеха:**
- Ошибка обработана корректно
- Пользователь понимает, как решить проблему

---

## 4.3. Тестирование UI

### Тест 7: Отображение состояния загрузки

**Шаги:**
1. Ввести валидный URL
2. Нажать любую из трех кнопок
3. Наблюдать за индикатором загрузки

**Ожидаемый результат:**
- ✅ Показывается спиннер загрузки
- ✅ Отображается текст "Обработка..."
- ✅ Кнопки неактивны во время загрузки
- ✅ Поле ввода неактивно во время загрузки

**Критерии успеха:**
- UI четко показывает состояние загрузки
- Пользователь не может отправить повторный запрос

---

### Тест 8: Отображение результатов

**Шаги:**
1. Выполнить успешный запрос любой из трех функций
2. Проверить отображение результата

**Ожидаемый результат:**
- ✅ Результат отображается в блоке "Результат"
- ✅ Заголовок блока содержит правильный тип действия
- ✅ Текст результата читаемый и отформатирован
- ✅ Результат не содержит лишних символов или форматирования

**Критерии успеха:**
- Результат отображается корректно
- Форматирование сохраняется

---

### Тест 9: Переключение между функциями

**Шаги:**
1. Ввести URL и нажать "О чем статья?"
2. Дождаться результата
3. Нажать "Тезисы"
4. Дождаться результата
5. Нажать "Пост для Telegram"
6. Дождаться результата

**Ожидаемый результат:**
- ✅ Каждая функция работает независимо
- ✅ Результаты не смешиваются
- ✅ Заголовок блока результата обновляется правильно
- ✅ Предыдущие результаты заменяются новыми

**Критерии успеха:**
- Все функции работают корректно
- Нет конфликтов между запросами

---

## 4.4. Интеграционное тестирование

### Тест 10: Полный flow работы

**Шаги:**
1. Открыть приложение
2. Ввести URL статьи
3. Нажать "О чем статья?"
4. Дождаться результата
5. Нажать "Тезисы"
6. Дождаться результата
7. Нажать "Пост для Telegram"
8. Дождаться результата

**Ожидаемый результат:**
- ✅ Все этапы выполняются последовательно
- ✅ Парсинг выполняется один раз (кэшируется)
- ✅ Каждая функция возвращает корректный результат
- ✅ Нет ошибок в консоли

**Критерии успеха:**
- Полный flow работает без ошибок
- Кэширование работает корректно

---

### Тест 11: Быстрое переключение между кнопками

**Шаги:**
1. Ввести URL
2. Быстро нажать "О чем статья?"
3. Сразу нажать "Тезисы"
4. Сразу нажать "Пост для Telegram"

**Ожидаемый результат:**
- ✅ Запросы обрабатываются корректно
- ✅ Нет конфликтов между запросами
- ✅ Последний запрос завершается успешно
- ✅ Результат соответствует последнему запросу

**Критерии успеха:**
- Приложение корректно обрабатывает быстрые переключения
- Нет гонок условий (race conditions)

---

## Чек-лист тестирования

### Обязательные проверки:
- [ ] Кнопка "О чем статья?" работает
- [ ] Кнопка "Тезисы" работает
- [ ] Кнопка "Пост для Telegram" работает
- [ ] Все результаты на русском языке
- [ ] Обработка ошибок работает корректно
- [ ] UI отображает состояние загрузки
- [ ] Результаты отображаются корректно
- [ ] Нет ошибок в консоли браузера
- [ ] Нет ошибок в консоли сервера

### Дополнительные проверки:
- [ ] Кэширование распарсенных данных работает
- [ ] Быстрое переключение между функциями работает
- [ ] Валидация входных данных работает
- [ ] Сообщения об ошибках понятны

---

## Инструкции по запуску тестов

1. **Запустить сервер разработки:**
   ```powershell
   npm run dev
   ```

2. **Открыть браузер:**
   - Перейти на `http://localhost:3000`

3. **Выполнить тесты:**
   - Следовать инструкциям для каждого теста
   - Отмечать результаты в чек-листе

4. **Проверить консоль:**
   - Открыть DevTools (F12)
   - Проверить вкладку Console на наличие ошибок
   - Проверить вкладку Network на корректность запросов

---

## Ожидаемые результаты

После выполнения всех тестов:
- ✅ Все три функции работают корректно
- ✅ Обработка ошибок работает правильно
- ✅ UI отображает все состояния корректно
- ✅ Нет критических ошибок
- ✅ Приложение готово к использованию

